{"version":3,"sources":["webpack:///./js/countries.js","webpack:///./js/fetchCountries.js"],"names":["input","document","querySelector","console","log","ul","addEventListener","debounce","e","searchQuery","target","value","fetch","then","resp","json","data","length","PNotify","defaults","icons","error","title","text","addClass","delay","icon","reduce","acc","item","name","innerHTML","capital","population","languages","cur","flag","catch","err"],"mappings":"sOA8CMA,EAAQC,SAASC,cAAc,UACrCC,QAAQC,IAAIJ,GACZ,IAAMK,EAAKJ,SAASC,cAAc,YAClCC,QAAQC,IAAIC,GACZL,EAAMM,iBAAiB,QACvBC,IAAU,SAAAC,GCrCK,IAAwBC,EDqCtBN,QAAQC,IAAI,aCrCUK,EDsCtBD,EAAEE,OAAOC,MCrClBC,MAAK,yCAA0CH,GACpDI,KAAK,SAAAC,GAAI,OAAIA,EAAKC,UDqChBF,KAAK,SAAAG,GACJ,OAAIA,EAAKC,QAAU,IAAsB,IAAhBD,EAAKC,QAC5BC,IAAQC,SAASC,MAAQ,WACzBF,IAAQG,MAAM,CACZC,MAAO,0BACPC,KAAM,sCACNC,SAAU,kBACVC,MAAO,IACPC,MAAM,IAEDV,EAAKW,OAAO,SAACC,EAAKC,GAEvB,OADAD,GAAG,OAAWC,EAAKC,KAAhB,QACKzB,EAAG0B,UAAYH,GACtB,KACsB,IAAhBZ,EAAKC,OACPD,EAAKW,OAAO,SAACC,EAAKC,GAmBvB,OAlBAD,GAAG,6BACDC,EAAKC,KADJ,yIAIkDD,EAAKG,QAJvD,yEAMDH,EAAKI,WANJ,oGAUDJ,EAAKK,UAAUP,OAAO,SAACC,EAAKO,GAC5B,OAAQP,EAAG,OAAWO,EAAIL,KAAf,SACV,IAZA,yFAgBDD,EAAKO,KAhBJ,+CAkBK/B,EAAG0B,UAAYH,GACtB,IAEI,KAGVS,MAAM,SAAAC,GAAG,OAAInC,QAAQC,IAAIkC,MAC3B","file":"main.865de361a7318b02c927.js","sourcesContent":["// import fetchCountries from './fetchCountries.js';\r\n\r\n// const input = document.querySelector('.input');\r\n// const ul = document.querySelector('.country')\r\n// let inputValue = '';\r\n\r\n// function getCountry(inputValue) {\r\n//   return new Promise ((resolve, reject) => {\r\n//     resolve(inputValue)\r\n//   });\r\n// }\r\n\r\n// // input.addEventListener('change', (e) => {\r\n// //   inputValue = e.target.value;\r\n// //   // console.log(inputValue);\r\n// //   getCountry(inputValue)\r\n// //   .then(fetchCountries)\r\n// //   .then(data => console.log(data))\r\n// // })\r\n\r\n// // добавляем слушателя\r\n\r\n// input.addEventListener('input', (e) => {\r\n//     inputValue = e.target.value;\r\n//     console.log(e.target.value);\r\n//     fetchCountries(e.target.value)\r\n//     // .then(data => data.filter(item => item.name.includes('')))\r\n//     .then(data =>\r\n//       data.reduce((acc, item) =>\r\n//     {\r\n//      acc += `<li>${item.name}</li>`\r\n//      return acc;\r\n//     }, ''))\r\n\r\n//     .then(string => ul.innerHTML = string)\r\n// })\r\n//       `<li>${item.name}</li>))\r\n// .then(data => data.map(item => {ul.innerHTML =\r\n//       `<li>${item.name}</li>\r\n// `\r\n\r\nimport fetchCountries from './fetchCountries';\r\nimport PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport debounce from 'lodash.debounce';\r\n\r\nconst input = document.querySelector('.input');\r\nconsole.log(input);\r\nconst ul = document.querySelector('.country');\r\nconsole.log(ul);\r\ninput.addEventListener('input',\r\ndebounce( e => { console.log('debounce');\r\n  fetchCountries(e.target.value)\r\n    .then(data => {\r\n      if (data.length <= 11 && data.length !== 1) {\r\n        PNotify.defaults.icons = 'material';\r\n        PNotify.error({\r\n          title: 'Too many matches found.',\r\n          text: 'Please enter a more specific query!',\r\n          addClass: 'custom nonblock',\r\n          delay: 2000,\r\n          icon: true,\r\n        });\r\n        return data.reduce((acc, item) => {\r\n          acc += `<li>${item.name}</li>`;\r\n          return (ul.innerHTML = acc);\r\n        }, '');\r\n      } else if (data.length === 1) {\r\n        return data.reduce((acc, item) => {\r\n          acc += `<h2 class=\"coutry__title\">${\r\n            item.name\r\n          }</h2><div class=\"country__wrapper\">\r\n          <div class=\"left__side\">\r\n          <p><span style=\"font-weight: bold\">Capital: </span>${item.capital}</p>\r\n          <p><span style=\"font-weight: bold\">Population: </span>${\r\n            item.population\r\n          }</p>\r\n          <p><span style=\"font-weight: bold\">Languages: </span>\r\n          <ul>\r\n          ${item.languages.reduce((acc, cur) => {\r\n            return (acc += `<li>${cur.name}</li>`);\r\n          }, '')}\r\n          </ul></p>\r\n          </div>\r\n          <div class=\"right__side\"><img src=\"${\r\n            item.flag\r\n          }\" width=\"500\" height=\"400\" alt=\"Flag\"></div>`;\r\n          return (ul.innerHTML = acc);\r\n        }, '');\r\n      } else {\r\n        return '';\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n}, 1000));\r\n\r\n","// import countryTemplate from '../template/country.hbs';\r\n// const basicUrl = 'https://restcountries.eu/rest/v2/name/${name}';\r\n\r\n// const input = document.querySelector('input');\r\n// const countryFind = \"\"\r\n// input.addEventListener('change', countryFind)\r\n\r\n\r\n// fetch(`${basicUrl}`)\r\n//   .then(response => response.json())\r\n//   .then(resData => {\r\n//     console.log('get resData', resData);\r\n\r\n//   })\r\nexport default function fetchCountries(searchQuery) {\r\n return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`)\r\n  .then(resp => resp.json())\r\n  // .then(resData => console.log(resData));\r\n };\r\n"],"sourceRoot":""}